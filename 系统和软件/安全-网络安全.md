# 网络安全

*   网络安全问题
    *   注入
    *   失效身份验证
    *   敏感数据外泄
    *   XML外部实体XXE
    *   失效访问控制
    *   安全错误配置
    *   跨站脚本XSS
    *   不安全反序列化
    *   使用存在已知漏洞的组件
    *   不足的日志记录和监控

*   网络安全设计
    *   身份验证：数字证书，验证码，多因素
    *   访问控制：授权，基于角色，细化粒度，最小授权，特权分离，限制访问系统资源
    *   会话（用户端服务端创建关联，标识链接状态，交换数据）管理：随机会话ID，限制生命周期，退出即时清除
    *   输入校验：恶意假设，不依赖客户端校验，约束白名单➕拒绝黑名单，正则，长度
    *   敏感数据：避免储存，密文储存，加密传输，不记录日志，强访问控制
    *   加密算法
    *   配置管理：最小权限账户，容器安全配置，储存区配置，强认证，安全传输通道
    *   文件操作：格式限制，文件名随机，图片预处理，日志记录
    *   异常处理：不必要信息屏蔽保护，捕获所有异常，结构化处理
    *   日志审计：who，when，where，what，how

*   安全设计原则
    *   安全边界划分
    *   使用最低权限
    *   使用深度防御
    *   不信任用户输入
    *   入口处检查
    *   安全的失败处理
    *   加强脆弱环节
    *   缺省安全
    *   减少攻击面

*   流程
    *   浏览器：用户认证，防止参数操作，敏感数据保护，防会话劫持，cookie攻击
    *   防火墙，waf
    *   web服务器：提供安全配置，异常处理，输入校验，用户授权
    *   应用服务器：日志审计，验证或授权上次标识
    *   储存服务器：敏感数据保护，加密或hash